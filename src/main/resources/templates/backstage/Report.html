<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>圖表</title>
<link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
<link rel='stylesheet' th:href="@{/css/index.css}" type="text/css" />
<link rel="shortcut icon" th:href="@{/favicon.ico}" />
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x"
	crossorigin="anonymous">
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
	integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
	crossorigin="anonymous"></script>
<script type="text/javascript" th:inline="javascript">
	$(function() {
		let href = window.location;
		let url = new URL(href);
		let name = url.searchParams.get("date");
		if(name==null){
			name=2021
		}
			
		member(name);
		order(name);
		function member(yyyy) {
			one = /*[[${momth.one}]]*/
			two = /*[[${momth.two}]]*/
			there = /*[[${momth.there}]]*/
			four = /*[[${momth.four}]]*/
			five = /*[[${momth.five}]]*/
			six = /*[[${momth.six}]]*/
			seven = /*[[${momth.seven}]]*/
			eight = /*[[${momth.eight}]]*/
			nine = /*[[${momth.nine}]]*/
			ten = /*[[${momth.ten}]]*/
			eleven = /*[[${momth.eleven}]]*/
			twelve = /*[[${momth.twelve}]]*/
			totl = /*[[${momth.totl}]]*/
			Highcharts.chart('member', {
				chart : {
					type : 'line'
				},
				title : {
					text : yyyy+'年會員註冊人數 , 總數: ' + totl
				},
				subtitle : {
					text : 'Source: WorldClimate.com'
				},
				xAxis : {
					categories : [ '一月', '二月', '三月', '四月', '五月', '六月', '七月',
							'八月', '九月', '十月', '十一月', '十二月' ]
				},
				yAxis : {
					title : {
						text : '人數'
					}
				},
				plotOptions : {
					line : {
						dataLabels : {
							enabled : true
						},
						enableMouseTracking : false
					}
				},
				series : [ {
					name : '會員',
					data : [ one, two, there, four, five, six, seven, eight,
							nine, ten, eleven, twelve ]
				} ]
			});
		}
		function order(yyyy) {
			one = /*[[${order.one}]]*/
			two = /*[[${order.two}]]*/
			there = /*[[${order.there}]]*/
			four = /*[[${order.four}]]*/
			five = /*[[${order.five}]]*/
			six = /*[[${order.six}]]*/
			seven = /*[[${order.seven}]]*/
			eight = /*[[${order.eight}]]*/
			nine = /*[[${order.nine}]]*/
			ten = /*[[${order.ten}]]*/
			eleven = /*[[${order.eleven}]]*/
			twelve = /*[[${order.twelve}]]*/
			totl = /*[[${order.totl}]]*/
			onem = /*[[${many.one}]]*/
			twom = /*[[${many.two}]]*/
			therem = /*[[${many.there}]]*/
			fourm = /*[[${many.four}]]*/
			fivem = /*[[${many.five}]]*/
			sixm = /*[[${many.six}]]*/
			sevenm = /*[[${many.seven}]]*/
			eightm = /*[[${many.eight}]]*/
			ninem = /*[[${many.nine}]]*/
			tenm = /*[[${many.ten}]]*/
			elevenm = /*[[${many.eleven}]]*/
			twelvem = /*[[${many.twelve}]]*/
			totlm = /*[[${many.totl}]]*/
			Highcharts.chart('order', {
				chart : {
					type : 'line'
				},
				title : {
					text : yyyy+'年訂單數與金額 年度總金額 :' + totlm
				},
				subtitle : {
					text : 'Source: WorldClimate.com'
				},
				xAxis : {
					categories : [ '一月', '二月', '三月', '四月', '五月', '六月', '七月',
							'八月', '九月', '十月', '十一月', '十二月' ]
				},
				yAxis : {
					title : {
						text : '人數'
					}
				},
				plotOptions : {
					line : {
						dataLabels : {
							enabled : true
						},
						enableMouseTracking : false
					}
				},
				series : [
						{
							name : '訂單數',
							data : [ one, two, there, four, five, six, seven,
									eight, nine, ten, eleven, twelve ]
						},
						{
							name : '總交易金額',
							data : [ onem, twom, therem, fourm, fivem, sixm,
									sevenm, eightm, ninem, tenm, elevenm,
									twelvem ]
						} ]
			});
		}

	})
</script>
<style type="text/css">
.highcharts-figure, .highcharts-data-table table {
	min-width: 360px;
	max-width: 800px;
	margin: 1em auto;
}

.highcharts-data-table table {
	font-family: Verdana, sans-serif;
	border-collapse: collapse;
	border: 1px solid #EBEBEB;
	margin: 10px auto;
	text-align: center;
	width: 100%;
	max-width: 500px;
}

.highcharts-data-table caption {
	padding: 1em 0;
	font-size: 1.2em;
	color: #555;
}

.highcharts-data-table th {
	font-weight: 600;
	padding: 0.5em;
}

.highcharts-data-table td, .highcharts-data-table th,
	.highcharts-data-table caption {
	padding: 0.5em;
}

.highcharts-data-table thead tr, .highcharts-data-table tr:nth-child(even)
	{
	background: #f8f8f8;
}

.highcharts-data-table tr:hover {
	background: #f1f7ff;
}
</style>
</head>
<body>
	<div th:insert="Generic :: Header"></div>
	<div th:insert="backstage/BackstageHeader :: Header"></div>
	<form action="#">
	<div class="input-group mb-3" style="width: 400px; margin: 30px;float: right;">
		<input type="text" name="date" class="form-control"
			placeholder="輸入年份 例:2021" aria-label="Recipient's username"
			aria-describedby="basic-addon2">
		<div class="input-group-append">
			<button class="btn btn-outline-secondary" type="submit">送出</button>
		</div>
	</div>
	</form>
	<div id="member" style="width: 80%; margin: 20px auto"></div>
	<div id="order" style="width: 80%; margin: 20px auto"></div>


</body>
</html>